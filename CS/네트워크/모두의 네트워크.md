# 모두의 네트워크 책을 읽고 정리한 내용을 적는 곳입니다.
## 하루 한 챕터, 10일 동안 읽을 것입니다.
---

### Day 1.
네트워크에 데이터를 전송하기 위해 **패킷** 이라는 박스에 데이터를 잘게 잘라 넣어 보냅니다. <br />
대역폭 : 네트워크에서 이용 가능한 최대 전송 속도로 전송 가능한 단위 시간당 전송량

그리고 패킷을 보낼때는 번호를 붙여서 보냅니다. 순서 없이 보내버리기 때문에, 후에 조립할 때 번호가 필요합니다.

정보를 표기하는 최소 단위, 비트 라고합니다. <br />
그리고, 8비트 = 1바이트 입니다.

||LAN|WAN|
|---|---|---|
|범위|좁다(건물 / 특정 지역)|넓다(랜과 랜을 연결)|
|속도|빠르다|느리다|
|오류|적다|많다|

WAN 은 ISP(인터넷 서비스 제공자)의 서비스로 연결합니다.

회사 네트워크를 구성할 때, 가정과의 큰 차이점은 DMZ 라는 네트워크 영역이 존재한다는 부분입니다.

DMZ 는 외부 공개를 위한 네트워크로, 주로 서버를 공개합니다.
서버는 주로 웹서버, 메일서버, DNS서버 등이 있습니다. 이는 후술 하겠습니다.

회사 서버를 운용하는 방법은 세 가지가 있습니다.

1. 서버를 사내에 선반(랙)에 두고 운용하는 방법.
2. 데이터 센터
3. 클라우드

그리고 1번과 2번의 방식을 **온프레미스** 방식이라고 합니다.
이는 클라우드와 많이 비교되는 방식입니다.

1. 온프레미스
2. 클라우드

---

### Day 2.

#### - 프로토콜
통신을 위한 규칙을 **프로토콜** 이라고 부른다.

#### - OSI 모델과 TCP/IP 모델
IOS(국제표준화기구)가 OSI라는 표준 규격을 제정함.
OSI 모델은 7개 계층(레이어)로 구성됨

7계층 : 응용 계층<br />
6계층 : 표현 계층<br />
5계층 : 세션 계층<br />
4계층 : 전송 계층<br />
3계층 : 네트워크 계층<br />
2계층 : 데이터 링크 계층<br />
1계층 : 물리 계층<br />

|계층|이름|설명|
|---|---|---|
|7계층|응용계층 (Application Layer)|이메일, 파일전송, 웹사이트 조회 등 애플리케이션에 대한 서비스를 제공|
|6계층|표현 계층 (Presentation Layer)|문자 코드, 압축, 암호화 등의 데이터를 변환|
|5계층|세션 계층|세션 체결, 통신 방식을 결정|
|4계층|전송 계층(Transport Layer)|신뢰할 수 있는 통신을 구현|
|3계층|네트워크 계층|다른 네트워크와 통신하기 위한 경로 설정 및 논리 주소를 결정|
|2계층|데이터 링크 계층|네트워크 기기 간의 데이터 전송 및 물리 주소를 결정한다.|
|1계층|물리 계층(Physical Layer)|시스템 간의 물리적인 연결과 전기신호를 변환 및 제어한다.|

데이터를 송신하는 측에서는 7계층에서 1계층으로 내려가면서 데이터를 보내고, <br/>
데이터를 수신하는 측에서는 1계층에서 7계층으로 올라가서 데이터를 받게 된다.

TCP/IP 모델은 4계층 모델이고, 현재 쓰이고 있다.

4계층 :응용 계층<br />
3계층 :전송 계층<br />
2계층 :인터넷 계층<br />
1계층 :네트워크 접속 계층<br />

이떄 OSI 모델의 응용 계층, 표현 계층, 세션 계층은 TCP/IP 모델의 응용계층으로 합쳐져 버리고,<br />
네트워크 계층은 인터넷 계층으로 바뀌고,<br />
데이터 링크 계층과 물리 계층은 네트워크 접속 계층으로 합치게 됩니다.

#### - 캡슐화와 역캡슐화

정보를 보낼때 앞에 **헤더**를 붙여서 보내야함. <br />
이 과정을 **캡슐화** 라고 함

그리고 수신할 때 헤더를 하나씩 제거하는 데 이를 **역캡슐화** 라고 함

그리고 데이터 마지막에 붙는 정보는 **트레일러** 라고 함.

---

### Day 3. 

#### - 물리 계층의 역할과 랜 카드의 구조

0과 1만으로 이루어진 비트열을 전기 신호로 변환하려면 **물리 계층** 기술이 필요

전기 신호 : 아날로그 신호, 디지털 신호

#### -  케이블의 종류와 구조

전송 매체 : 데이터가 흐르는 물리적인 선로로 유선과 무선으로 나뉨

트위스트 페어 케이블(랜 케이블, 랜선), 광케이블 등이 유선 <br />
라디오파, 마이크로파, 적외선 등이 무선

트위스트 페어 케이블은 UTP 케이블, STP 케이블로 나워짐 <br />
UTP (Unshielded Twist Pair)<br />
STP (Shielded Twist Pair)

UTP 케이블은 실드로 보호되어 있지 않아서 노이즈에 영향을 받기 쉬움, 하지만 가격이 싸서 많이 사용됨

UTP 케이블은 데이터 전송 품질에 따라 분류됨

STP 케이블은 실드로 보호되어 노이즈에 영향을 적게 받지만, 비싸기 때문에 보편적으로 사용하지는 않는다.

노이즈 : 케이블에 전기 신호가 흐를때 발생

랜 케이블의 양쪽 끝에는 RJ-45 라는 커넥터가 있다.

랜 케이블에는 다이렉트 케이블과 크로스 케이블이 있음

#### - 리피터와 허브의 구조

리피터 : 전기신호를 정형하고 증폭하는 기능

허브 : 포트를 여럭개 가지고 있음. 리피터 허브라고도 불림 <br />
전기 신호를 정형하고 증폭하는 기능을 함

허브는 스스로 판단할 수 없어서, 컴퓨터 1에서 송신 받은 데이터를 2,3,4,5 에게도 수신함. > 더미허브라고도 불림

---

### Day 4.

#### - 데이터 링크 계층의 역할과 이더넷

데이터 링크 계층 : 네트워크 장비 간에 신호를 주고받는 규칙을 정하는 계층

이더넷 : 랜에서 적용되는 규칙

이더넷은 **허브**와 같은 장비에 연결된 컴퓨터와 데이터를 주고 받을 때 사용함.

데이터를 보낼때 목적지 정보를 추가해서 보내기 때문에, 더미허브가 받은 데이터를 모든 컴퓨터에게 준다고 하더라도 목적이 이외의 컴퓨터는 데이터를 받더라도 무시하게 되어있음 (후에 더 설명)

이때, 허브에 컴퓨터 여러대가 동시에 데이터를 보내면 데이터들이 충돌 할 수 있음. 이걸 막기 위해 **CSMA/CD**가 존재.

    CS : "데이터를 보내려고 하는 컴퓨터가 케이블에 신호가 흐르는지 아닌지 확인한다."
    MA : '케이블에 데이터가 흐르고 있지 않다면, 데이터를 보내라'
    CD : '충볼이 발생하고 있는지 확인한다'

그치만 효율이 좋지 않아 요즘엔 사용 안함.

#### - MAC주소의 구조

랜 카드에는 제조할때부터 새겨지는 고유의 **MAC 주소**가 존재.

48비트 숫자로 존재함, 앞에 24비트는 제조사 번호, 뒤 24비트는 제조사가 붙인 일련번호.
> 00-20-AD-D2-7A-9A

데이터 링크 계층에서는 **이더넷 헤더와 트레일러**를 붙임.

이더넷 헤더는 14바이트로 구성.
- 목적지 MAC 주소 (6바이트)
- 출발지 MAC 주소 (6바이트)
- 유형 (2바이트) (프로토콜 종류를 식별하는 번호)

트레일러는 데이터 뒤에 붙여지는데, 데이터 전송 도중 오류가 발생하는지 확인하기 위한 용도(FCS(Frame Chack Sequence))

이렇게 이더넷 헤더와 트레일러가 추가된 데이터를 **프레임** 이라고 함.

데이터를 컴퓨터 1에서 컴퓨터 3으로 보내는 과정 정리 (허브로)

> 1. 컴퓨터 1은 이더넷 헤더에 컴퓨터 3의 MAC 주소(목적지 MAC 주소)와 자신의 MAC 주소(출발지 MAC 주소) 정보를 넣고 데이터를 전송 
> 2. 캡슐화가 끝난 프레임을 물리계층에서 전기 신호로 변환하여 네트워크를 통해 전송 
> 3. 허브는 컴퓨터 1이 보낸 데이터를 1번 포트로 수신하고 2~5번 (모든) 포트로 전송함.
> 4. 컴퓨터 2,4,5는 목적지 MAC 주소가 자신의 MAC 주소와 다르기 때문에 데이터를 파기
> 5. 컴퓨터 3이 데이터를 수신하고, 역캠슐화가 일어남. (물리 계층에서 전기신호로 전송된 데이터를 비트열로 변환하고, 데이터 링크 계층에서 이더넷 헤더와 트레일러를 분리함)

#### - 스위치의 구조

스위치 내부에는 **MAC 주소 테이블(브리지 테이블)**이라는 것이 있는데, 스위치의 포트 번호와 해당 포트에 연결되어 잇는 컴퓨터의 MAC 주소가 등록되는 데이터 베이스이다.

MAC 주소 학습 기능은, 프레임이 들어왔을 때, 해당 프레임에 있는 출발지 MAC 주소가 MAC 주소 테이블에 등록되어 있지 않으면 포트와 함께 MAC 주소를 등록함.

MAC 주소 테이블에 만약 목적지 MAC 주소가 없다면, 플러딩(flooding, 홍수, 모든 컴퓨터에 보내는 사태)이 일어나고, 등록 되어있다면, 해당 목적지에만 데이터를 전송하는 점(MAC 주소 필터링)에서 허브와 큰 차이 존재

#### - 데이터가 케이블에서 충돌하지 않는 구조

전이중 통신 방식 : 데이터 송수신을 동시에 통신하는 방식 (동시에 데이터를 전송해도 충돌이 발생하지 않음)
반이증 통신 방식 : 회선 하나로 송신과 수신을 번갈아서 통신하는 방식 (동시 전송 시 충돌)

허브는 반이중 통신 방식을 사용해야하고, 스위치는 전이중 통신 방식 가능, 그래서 대부분의 업체들은 스위치만 판매함.

충돌 도메인 : 충돌이 발생할 때 그 영향이 미치는 범위

허브의 경우는 접속되어 있는 모든 컴퓨터가 충돌 도메인이 됨
스위치의 경우는 전이중 통신 방식이기에 충돌이 일어나지 않고, 충돌 도메인의 범위도 매우 좁음

#### - 이더넷의 종류와 특징

|규격 이름|통신 속도|케이블|케이블 최대 길이|표준화 연도|
|-|-|-|-|-|
|10BASE5|10Mbps|동축케이블|500m|1982년|
|10BASE2|10Mbps|동축케이블|185m|1988년|
|10BASE-T|100Mbps|UTP케이블(Cat3이상)|100m|1990년|
|100BASE-TX|100Mbps|UTP케이블(Cat5이상)|100m|1995년|
|1000BASE-T|1000Mbps|UTP케이블(Cat5이상)|100m|1999년|
|10GBASE-T|10Gbps|UTP케이블(Cat6a이상)|100m|2006년|

10BASE-T로 설명해봄.

|10|BASE|-T|
|-|-|-|
|통신속도|전송방식|케이블|

앞 숫자 10은 통신 속도로, 10Mbps 를 의미,
BASE는 전송방식으로 BASEBAND를 의미,

하이픈(-)은 케이블 종류와 길이

동축케이블은 최대 길이를 100미터 단위로 표시, -T는 UTP 케이블을 의미